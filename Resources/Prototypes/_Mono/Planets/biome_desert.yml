# SPDX-FileCopyrightText: 2025 starch
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: biomeTemplate
  id: MonoDesert
  layers:
  # Boulder Placement
  - !type:BiomeEntityLayer
    threshold: 0.95
    noise:
      seed: 0
      frequency: 2
      noiseType: OpenSimplex2
    allowedTiles:
    - FloorDesert
    - FloorDesertRocky
    - FloorDesertPlanet
    - FloorAsteroidSandUnvariantizedPlanet
    entities:
    - FloraRockSolid
  # Rock decals
  - !type:BiomeDecalLayer
    allowedTiles:
    - FloorDesert
    - FloorDesertRocky
    - FloorDesertPlanet
    - FloorAsteroidSandUnvariantizedPlanet
    - FloorAsteroidSandPlanet
    threshold: 0.9
    divisions: 1
    noise:
      seed: 1
      frequency: 2
    decals:
    - Basalt1
    - Basalt2
    - Basalt3
    - Basalt4
    - Basalt5
    - Basalt6
    - Basalt7
    - Basalt8
    - Basalt9
  # Bush decals 1
  - !type:BiomeDecalLayer
    allowedTiles:
    - FloorDesert
    - FloorDesertPlanet
    threshold: 0.9
    divisions: 1
    noise:
      seed: 1
      frequency: 0.9
    decals:
    - Bushj1
    - Bushj2
    - Bushj3
  # Bush decals 2
  - !type:BiomeDecalLayer
    allowedTiles:
    - FloorDesert
    - FloorDesertPlanet
    threshold: 0.9
    divisions: 1
    noise:
      seed: 1
      frequency: 0.9
    decals:
    - Bushd1
    - Bushd2
    - Bushd3
    - Bushd4
  # Large rock areas
  - !type:BiomeEntityLayer
    allowedTiles:
    - FloorAsteroidSandUnvariantizedPlanet
    threshold: -0.40
    noise:
      seed: 0
      noiseType: Cellular
      frequency: 0.05
      lacunarity: 2
      fractalType: FBm
      octaves: 5
      cellularDistanceFunction: Euclidean
      cellularReturnType: Distance2
    entities:
    - MonoPlanetmapOreSand
  - !type:BiomeDummyLayer
    id: Loot
  # Fill layer
  # Base tiles
  - !type:BiomeTileLayer
    threshold: -1
    tile: FloorAsteroidSandPlanet
  # Apply planet desert tile as noise so it doesnt look flat and boring
  - !type:BiomeTileLayer
    threshold: -0.40
    tile: FloorDesertPlanet
    noise:
      seed: 0
      noiseType: Cellular
      frequency: 0.2
      lacunarity: 2
      fractalType: FBm
      octaves: 2
      cellularDistanceFunction: Euclidean
      cellularReturnType: Distance2
  # Unvariantized tile for rock walls to be placed on
  - !type:BiomeTileLayer
    tile: FloorAsteroidSandUnvariantizedPlanet
    threshold: -0.30
    noise:
      seed: 0
      noiseType: Cellular
      frequency: 0.05
      lacunarity: 2
      fractalType: FBm
      octaves: 5
      cellularDistanceFunction: Euclidean
      cellularReturnType: Distance2
