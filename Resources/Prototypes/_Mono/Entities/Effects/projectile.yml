# SPDX-FileCopyrightText: 2025 Ilya246
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: entity
  id: InstantEffectEMP
  name: instant EMP effect
  components:
  - type: TriggerOnSpawn
  - type: DeleteOnTrigger
  - type: EmpOnTrigger
    range: 1 # low range
    energyConsumption: 20000 # 20 kJ
    disableDuration: 20 # as opposed to 60

- type: entity
  name: ionised lightning
  id: LightningEMP
  parent: BaseLightning
  categories: [ HideSpawnMenu ]
  components:
  - type: Lightning
    canArc: true
    spawnOnHit: InstantEffectEMP
  - type: PointLight
    color: "#80C0FF"

#example usage: add this to projectile parenting from BaseBulletTrigger
# - type: LightningOnTrigger
#  chance: 0.08
#  range: 20 # long
#  lightningProto: LightningEMP
#  lightningEffects: false # only EMP no explosion
