# SPDX-FileCopyrightText: 2025 Ark
# SPDX-FileCopyrightText: 2025 Redrover1760
# SPDX-FileCopyrightText: 2025 starch
#
# SPDX-License-Identifier: AGPL-3.0-or-later

- type: metabolizerType
  id: Chimera
  name: metabolizer-type-chimera

- type: entity
  id: BaseChimeraOrgan
  name: chimera organ
  parent: [BaseItem, BaseC3SyndicateContraband]
  abstract: true
  components:
  - type: Sprite
    sprite: _Mono/Mobs/Chimera/organs.rsi
    state: metabolism-chimera
  - type: SolutionContainerManager
    solutions:
      organ:
        reagents:
        - ReagentId: NaturalLetoferol
          Quantity: 10
      food:
        maxVol: 10
        reagents:
        - ReagentId: NaturalLetoferol
          Quantity: 5
        - ReagentId: Slime
          Quantity: 5

- type: entity
  id: OrganChimeraStomach
  parent: BaseChimeraOrgan
  name: chimera stomach
  description: "A strange organ that serves as the center for the metabolism of a Chimera."
  components:
  - type: Sprite
    state: stomach
  - type: Stomach
  - type: Organ
    slotId: stomach
  - type: Metabolizer
    maxReagents: 4
    metabolizerTypes: [ Chimera ]
    removeEmpty: true
    groups:
    - id: Food
    - id: Drink
    - id: Medicine
    - id: Cryogenic
    - id: Poison
    - id: Narcotic
    - id: Alcohol
      rateModifier: 0.25
  - type: SolutionContainerManager
    solutions:
      stomach:
        maxVol: 75
      food:
        maxVol: 20
        reagents:
        - ReagentId: NaturalLetoferol
          Quantity: 5
        - ReagentId: Slime
          Quantity: 15
      organ:
        reagents:
        - ReagentId: NaturalLetoferol
          Quantity: 10
  - type: Item
    size: Small
    heldPrefix: stomach

- type: entity
  id: OrganChimeraBrain
  parent: [ BaseChimeraOrgan, OrganHumanBrain ]
  name: chimera brain
  description: "The heart of a chimera growth."
  components:
  - type: Sprite
    state: brain
  - type: Item
    size: Small
    heldPrefix: brain

- type: entity
  id: OrganChimeraLiver
  parent: BaseChimeraOrgan
  name: chimera spike gland
  description: "Takes the location of the liver in the body, and repurposes them to be used as a gland for growing bone spikes instead."
  components:
  - type: Metabolizer
    maxReagents: 2
    metabolizerTypes: [Chimera]
    removeEmpty: true
  - type: Sprite
    state: spike
  - type: Item
    size: Small
    heldPrefix: spike
  - type: Liver # Shitmed Change
  - type: Organ # Shitmed Change
    slotId: liver # Shitmed Change
    onAdd:
    - type: ActionGun
      action: ActionLetoferolSpike
      gunProto: LetoferolSpikeGun

- type: entity
  id: OrganChimeraHeart
  parent: [ BaseChimeraOrgan , OrganHumanHeart ]
  name: chimera heart
  components:
  - type: Metabolizer
    metabolizerTypes: [Chimera]
  - type: Sprite
    state: heart-on
  - type: Item
    size: Small
    heldPrefix: heart
  - type: Organ
    onAdd:
    - type: PressureImmunity

- type: entity
  id: OrganChimeraLungs
  parent: BaseChimeraOrgan
  name: chimera pheropod
  description: "Distributes pheromones allowing for hivemind communication with other Chimeras. Serves as the lungs for the parasite as well."
  components:
  - type: Sprite
    state: pheropod
  - type: Item
    size: Small
    heldPrefix: pheropod
  - type: Organ
    slotId: lungs
    onAdd:
    - type: BreathingImmunity
    - type: CollectiveMind
      channel: Letoferol
  - type: Lung
  - type: Metabolizer
    removeEmpty: true
    solutionOnBody: false
    solution: "Lung"
    metabolizerTypes: [ Animal ]
    groups:
    - id: Gas
      rateModifier: 100.0
  - type: SolutionContainerManager
    solutions:
      Lung:
        maxVol: 100.0
        canReact: false
      organ:
        reagents:
        - ReagentId: NaturalLetoferol
          Quantity: 20
      food:
        maxVol: 5
        reagents:
        - ReagentId: NaturalLetoferol
          Quantity: 5
